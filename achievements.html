<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Snake - 업적</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    body {
      margin: 0;
      font-family: system-ui, sans-serif;
      background: #f5f5f5;
    }
    .site-header, .site-footer {
      background: #222;
      color: #fff;
      padding: 10px 16px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .site-header .logo a {
      color: #fff;
      text-decoration: none;
      font-weight: bold;
      font-size: 1.2rem;
    }
    .site-nav a {
      color: #ccc;
      margin-left: 10px;
      text-decoration: none;
      font-size: 0.9rem;
    }
    .site-nav a.active {
      color: #fff;
      font-weight: bold;
      text-decoration: underline;
    }
    .site-footer {
      font-size: 0.8rem;
      justify-content: center;
    }

    main.layout-achievements {
      display: flex;
      flex-direction: column;
      min-height: calc(100vh - 100px);
      padding: 16px;
      box-sizing: border-box;
    }

    .achievements-header {
      display: flex;
      justify-content: flex-end;
      align-items: center;
      margin-bottom: 12px;
    }
    .achievements-header label {
      margin-right: 8px;
      font-size: 0.9rem;
    }
    .achievements-header select {
      padding: 4px 8px;
    }

    .achievements-main {
      flex: 1;
      display: grid;
      grid-template-rows: 1fr 180px;
      gap: 12px;
    }

    .achievement-list {
      background: #fff;
      padding: 12px;
      box-sizing: border-box;
      border-radius: 6px;
      overflow-y: auto;
      border: 1px solid #ddd;
    }
    .achievement-item {
      width: 100%;
      text-align: left;
      border: none;
      background: #f5f5f5;
      padding: 8px;
      margin-bottom: 6px;
      border-radius: 4px;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 0.9rem;
    }
    .achievement-item[data-status="done"] {
      border-left: 4px solid #4caf50;
    }
    .achievement-item[data-status="todo"] {
      border-left: 4px solid #9e9e9e;
    }
    .achievement-item span.badge {
      font-size: 0.75rem;
      padding: 2px 6px;
      border-radius: 999px;
      background: #e0e0e0;
    }
    .achievement-item.done span.badge {
      background: #4caf50;
      color: #fff;
    }
    .achievement-item.active {
      outline: 2px solid #1976d2;
      background: #e3f2fd;
    }

    .achievement-detail {
      background: #fff;
      padding: 12px;
      box-sizing: border-box;
      border-radius: 6px;
      border: 1px solid #ddd;
      font-size: 0.9rem;
    }
    .achievement-detail h2 {
      margin-top: 0;
      font-size: 1rem;
    }
    .achievement-detail p {
      margin: 4px 0;
    }
  </style>
</head>
<body>
<header class="site-header">
  <div class="logo"><a href="main.html">SNAKE</a></div>
  <nav class="site-nav">
    <a href="main.html">메인</a>
    <a href="game.html">게임</a>
    <a href="rules.html">설명</a>
    <a href="achievements.html" class="active">업적</a>
    <a href="ranking.html">랭킹</a>
  </nav>
</header>

<main class="layout-achievements">
  <section class="achievements-header">
    <label for="achievement-filter">필터</label>
    <select id="achievement-filter">
      <option value="all">전체</option>
      <option value="done">달성함</option>
      <option value="todo">달성하지 않음</option>
    </select>
  </section>

  <section class="achievements-main">
    <!-- 리스트 -->
    <div class="achievement-list" id="achievement-list">
      <!-- 예시 업적들 (원하면 이름/조건 변경) -->
      <button class="achievement-item done"
              data-id="first-apple"
              data-status="done">
        <span>첫 한 입</span>
        <span class="badge">달성</span>
      </button>
      <button class="achievement-item todo"
              data-id="ten-score"
              data-status="todo">
        <span>점수 10점 달성</span>
        <span class="badge">미달성</span>
      </button>
      <button class="achievement-item todo"
              data-id="survivor"
              data-status="todo">
        <span>30초 생존</span>
        <span class="badge">미달성</span>
      </button>
      <button class="achievement-item done"
              data-id="combo"
              data-status="done">
        <span>연속 3개 먹기</span>
        <span class="badge">달성</span>
      </button>
    </div>

    <!-- 상세 -->
    <div class="achievement-detail" id="achievement-detail">
      <h2>업적 상세</h2>
      <p>업적을 선택하면 이 영역에 이름, 조건, 달성 여부 등의 설명을 보여줍니다.</p>
    </div>
  </section>
</main>

<footer class="site-footer">
  Credit
</footer>

<script>
  const achievementInfo = {
    "first-apple": {
      title: "첫 한 입",
      desc: "게임 중 사과를 처음으로 1개 이상 먹으면 달성되는 업적입니다.",
      condition: "한 판에서 사과 1개 이상 먹기.",
      status: "달성함"
    },
    "ten-score": {
      title: "점수 10점 달성",
      desc: "점수 10점을 돌파하면 달성되는 업적입니다.",
      condition: "한 판에서 점수 10점 이상 기록.",
      status: "달성하지 않음"
    },
    "survivor": {
      title: "30초 생존",
      desc: "게임 시작 후 30초 이상 생존하면 달성되는 업적입니다.",
      condition: "게임 시작 후 30초 이상 생존 유지.",
      status: "달성하지 않음"
    },
    "combo": {
      title: "연속 3개 먹기",
      desc: "짧은 시간 내에 사과를 3개 연속으로 먹으면 달성되는 업적입니다.",
      condition: "제한 시간 내에 사과 3개 연속 먹기.",
      status: "달성함"
    }
  };

  const filterSelect = document.getElementById("achievement-filter");
  const listEl = document.getElementById("achievement-list");
  const detailEl = document.getElementById("achievement-detail");

  function updateFilter() {
    const value = filterSelect.value;
    const items = listEl.querySelectorAll(".achievement-item");

    items.forEach(item => {
      const status = item.dataset.status; // "done" or "todo"
      if (value === "all") {
        item.style.display = "";
      } else if (value === status) {
        item.style.display = "";
      } else {
        item.style.display = "none";
      }
    });
  }

  function showDetail(id) {
    const data = achievementInfo[id];
    if (!data) return;
    detailEl.innerHTML = `
      <h2>${data.title}</h2>
      <p><strong>설명:</strong> ${data.desc}</p>
      <p><strong>달성 조건:</strong> ${data.condition}</p>
      <p><strong>현재 상태:</strong> ${data.status}</p>
    `;
  }

  listEl.addEventListener("click", (e) => {
    const item = e.target.closest(".achievement-item");
    if (!item) return;

    listEl.querySelectorAll(".achievement-item").forEach(i => i.classList.remove("active"));
    item.classList.add("active");

    const id = item.dataset.id;
    showDetail(id);
  });

  filterSelect.addEventListener("change", updateFilter);

  // 초기 필터 적용
  updateFilter();
</script>
</body>
</html>
