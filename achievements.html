<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Snake - 업적</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
<header class="site-header">
  <div class="logo"><a href="index.html">SNAKE</a></div>
  <nav class="site-nav">
    <a href="index.html">홈</a>
    <a href="game.html">게임</a>
    <a href="rules.html">게임 설명</a>
    <a href="achievements.html" class="current">업적</a>
    <a href="ranking.html">랭킹</a>
  </nav>
</header>

<main class="layout-achievements">
  <section class="achievements-header">
    <label for="achievement-filter">필터</label>
    <select id="achievement-filter">
      <option value="all">전체</option>
      <option value="done">달성함</option>
      <option value="todo">달성하지 않음</option>
    </select>
  </section>

  <section class="achievements-main">
    <!-- 리스트 -->
    <div class="achievement-list" id="achievement-list">
      <!-- 예시 업적들 (원하면 이름/조건 변경) -->
      <button class="achievement-item done"
              data-id="first-apple"
              data-status="done">
        <span>첫 한 입</span>
        <span class="badge">달성</span>
      </button>
      <button class="achievement-item todo"
              data-id="ten-score"
              data-status="todo">
        <span>점수 10점 달성</span>
        <span class="badge">미달성</span>
      </button>
      <button class="achievement-item todo"
              data-id="survivor"
              data-status="todo">
        <span>30초 생존</span>
        <span class="badge">미달성</span>
      </button>
      <button class="achievement-item done"
              data-id="combo"
              data-status="done">
        <span>연속 3개 먹기</span>
        <span class="badge">달성</span>
      </button>
    </div>

    <!-- 상세 -->
    <div class="achievement-detail" id="achievement-detail">
      <h2>업적 상세</h2>
      <p>업적을 선택하면 이 영역에 이름, 조건, 달성 여부 등의 설명을 보여줍니다.</p>
    </div>
  </section>
</main>

<footer class="site-footer">
  Made by taewonson
</footer>

<script>
  const achievementInfo = {
    "first-apple": {
      title: "첫 한 입",
      desc: "게임 중 사과를 처음으로 1개 이상 먹으면 달성되는 업적입니다.",
      condition: "한 판에서 사과 1개 이상 먹기.",
      status: "달성함"
    },
    "ten-score": {
      title: "점수 10점 달성",
      desc: "점수 10점을 돌파하면 달성되는 업적입니다.",
      condition: "한 판에서 점수 10점 이상 기록.",
      status: "달성하지 않음"
    },
    "survivor": {
      title: "30초 생존",
      desc: "게임 시작 후 30초 이상 생존하면 달성되는 업적입니다.",
      condition: "게임 시작 후 30초 이상 생존 유지.",
      status: "달성하지 않음"
    },
    "combo": {
      title: "연속 3개 먹기",
      desc: "짧은 시간 내에 사과를 3개 연속으로 먹으면 달성되는 업적입니다.",
      condition: "제한 시간 내에 사과 3개 연속 먹기.",
      status: "달성함"
    }
  };

  const filterSelect = document.getElementById("achievement-filter");
  const listEl = document.getElementById("achievement-list");
  const detailEl = document.getElementById("achievement-detail");

  function updateFilter() {
    const value = filterSelect.value;
    const items = listEl.querySelectorAll(".achievement-item");

    items.forEach(item => {
      const status = item.dataset.status; // "done" or "todo"
      if (value === "all") {
        item.style.display = "";
      } else if (value === status) {
        item.style.display = "";
      } else {
        item.style.display = "none";
      }
    });
  }

  function showDetail(id) {
    const data = achievementInfo[id];
    if (!data) return;
    detailEl.innerHTML = `
      <h2>${data.title}</h2>
      <p><strong>설명:</strong> ${data.desc}</p>
      <p><strong>달성 조건:</strong> ${data.condition}</p>
      <p><strong>현재 상태:</strong> ${data.status}</p>
    `;
  }

  listEl.addEventListener("click", (e) => {
    const item = e.target.closest(".achievement-item");
    if (!item) return;

    listEl.querySelectorAll(".achievement-item").forEach(i => i.classList.remove("active"));
    item.classList.add("active");

    const id = item.dataset.id;
    showDetail(id);
  });

  filterSelect.addEventListener("change", updateFilter);

  // 초기 필터 적용
  updateFilter();
</script>
</body>
</html>
